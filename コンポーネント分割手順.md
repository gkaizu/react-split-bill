# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²æ‰‹é †

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€App.jsã‚’è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## Step 1: ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’ .js ã‹ã‚‰ .jsx ã«å¤‰æ›´ã™ã‚‹

### ç†ç”±
- JSXã‚’å«ã‚€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `.jsx` æ‹¡å¼µå­ã‚’ä½¿ã†ã®ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ãŒJSXã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’æ­£ã—ãèªè­˜ã§ãã‚‹
- ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ãŒä¸€ç›®ã§ã‚ã‹ã‚‹

### æ‰‹é †
```bash
# src/App.js ã‚’ src/App.jsx ã«ãƒªãƒãƒ¼ãƒ 
git mv src/App.js src/App.jsx
```

### æ³¨æ„ç‚¹
- `index.js` ãªã©ã§ `import App from './App'` ã¨ã—ã¦ã„ã‚‹å ´åˆã€æ‹¡å¼µå­ã‚’æ˜ç¤ºçš„ã«æ›¸ã„ã¦ã„ãªã‘ã‚Œã°è‡ªå‹•çš„ã«è§£æ±ºã•ã‚Œã¾ã™
- Reactã‚¢ãƒ—ãƒªã§ã¯é€šå¸¸ã€æ‹¡å¼µå­ãªã—ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã®ã§å¤‰æ›´ä¸è¦ã§ã™

---

## Step 2: components ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ FriendsList.jsx
â”‚   â”œâ”€â”€ Friend.jsx
â”‚   â”œâ”€â”€ FormAddFriend.jsx
â”‚   â”œâ”€â”€ FormSplitBill.jsx
â”‚   â””â”€â”€ Button.jsx
â”œâ”€â”€ App.css
â””â”€â”€ index.js
```

### æ‰‹é †
```bash
# componentsãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
mkdir src/components
```

---

## Step 3: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã™ã‚‹

### åˆ†å‰²ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§
ç¾åœ¨ã® `App.js` ã«ã¯ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

1. `App` - ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
2. `FriendsList` - å‹é”ãƒªã‚¹ãƒˆ
3. `Friend` - å€‹åˆ¥ã®å‹é”
4. `Button` - å†åˆ©ç”¨å¯èƒ½ãªãƒœã‚¿ãƒ³
5. `FormAddFriend` - å‹é”è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ 
6. `FormSplitBill` - å‰²ã‚Šå‹˜ãƒ•ã‚©ãƒ¼ãƒ 

### 3-1. Button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†å‰²

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/Button.jsx`**
```jsx
export default function Button({ children, onClick }) {
  return (
    <button className="button" onClick={onClick}>
      {children}
    </button>
  );
}
```

### 3-2. Friend ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†å‰²

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/Friend.jsx`**
```jsx
import Button from './Button';

export default function Friend({ friend, onSelected, selectedFriend }) {
  const isSelected = selectedFriend?.id === friend.id;

  return (
    <li className={isSelected ? "selected" : ""}>
      <img src={friend.image} alt={friend.name} />
      <h3>{friend.name}</h3>

      {friend.balance < 0 && (
        <p className="red">
          ã‚ãªãŸãŒ{friend.name}ã«æ‰•ã†é‡‘é¡: {Math.abs(friend.balance)} å††
        </p>
      )}
      {friend.balance > 0 && (
        <p className="green">
          {friend.name}ãŒã‚ãªãŸã«æ‰•ã†é‡‘é¡: {Math.abs(friend.balance)} å††
        </p>
      )}
      {friend.balance === 0 && <p>å‰²ã‚Šå‹˜ãŒå®Œäº†ã—ã¦ã„ã¾ã™</p>}

      <Button onClick={() => onSelected(friend)}>
        {isSelected ? "é–‰ã˜ã‚‹" : "é¸æŠ"}
      </Button>
    </li>
  );
}
```

### 3-3. FriendsList ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†å‰²

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/FriendsList.jsx`**
```jsx
import Friend from './Friend';

export default function FriendsList({ friends, onSelected, selectedFriend }) {
  return (
    <ul>
      {friends.map((friend) => (
        <Friend
          friend={friend}
          key={friend.id}
          selectedFriend={selectedFriend}
          onSelected={onSelected}
        />
      ))}
    </ul>
  );
}
```

### 3-4. FormAddFriend ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†å‰²

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/FormAddFriend.jsx`**
```jsx
import { useState } from 'react';
import Button from './Button';

export default function FormAddFriend({ onAddFriend }) {
  const [name, setName] = useState("");
  const [image, setImage] = useState("https://i.pravatar.cc/48");

  function handleSubmit(e) {
    e.preventDefault();

    if (!name || !image) return;

    const id = crypto.randomUUID();
    const newFriend = {
      id,
      name,
      image: `${image}?=${id}`,
      balance: 0,
    };

    onAddFriend(newFriend);

    setName("");
    setImage("https://i.pravatar.cc/48");
  }

  return (
    <form className="form-add-friend" onSubmit={handleSubmit}>
      <label>ğŸ‘¬ å‹é”ã®åå‰</label>
      <input
        type="text"
        value={name}
        onChange={(e) => setName(e.target.value)}
      />

      <label>ğŸ–¼ ç”»åƒã®URL</label>
      <input
        type="text"
        value={image}
        onChange={(e) => setImage(e.target.value)}
      />

      <Button>è¿½åŠ </Button>
    </form>
  );
}
```

### 3-5. FormSplitBill ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†å‰²

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/FormSplitBill.jsx`**
```jsx
import { useState } from 'react';
import Button from './Button';

export default function FormSplitBill({ selectedFriend, onSplitBill }) {
  const [bill, setBill] = useState("");
  const [paidByUser, setPaidByUser] = useState("");
  const paidByFriend = bill ? bill - paidByUser : "";
  const [whoIsPaying, setWhoIsPaying] = useState("user");

  function handleSubmit(e) {
    e.preventDefault();

    if (!bill || !paidByUser) return;
    onSplitBill(whoIsPaying === "user" ? paidByFriend : -paidByUser);
  }

  return (
    <form className="form-split-bill" onSubmit={handleSubmit}>
      <h2>{selectedFriend.name}ã¨å‰²ã‚Šå‹˜</h2>

      <label>ğŸ’° é‡‘é¡</label>
      <input
        type="text"
        value={bill}
        onChange={(e) => setBill(Number(e.target.value))}
      />

      <label>ğŸ§ ã‚ãªãŸã®æ”¯æ‰•ã„é¡</label>
      <input
        type="text"
        value={paidByUser}
        onChange={(e) =>
          setPaidByUser(
            Number(e.target.value) > bill ? paidByUser : Number(e.target.value)
          )
        }
      />

      <label>ğŸ‘¬ {selectedFriend.name}ã®æ”¯æ‰•ã„é¡</label>
      <input type="text" disabled value={paidByFriend} />

      <label>ğŸ¤‘ èª°ãŒæ‰•ã£ãŸï¼Ÿ</label>
      <select
        value={whoIsPaying}
        onChange={(e) => setWhoIsPaying(e.target.value)}
      >
        <option value="user">ã‚ãªãŸ</option>
        <option value="friend">{selectedFriend.name}</option>
      </select>

      <Button>å‰²ã‚Šå‹˜</Button>
    </form>
  );
}
```

### 3-6. App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ›´æ–°

**æ›´æ–°å¾Œã® `src/components/App.jsx`**
```jsx
import { useState } from "react";
import FriendsList from './FriendsList';
import FormAddFriend from './FormAddFriend';
import Button from './Button';
import FormSplitBill from './FormSplitBill';

const initialFriends = [
  {
    id: 118836,
    name: "Clark",
    image: "https://i.pravatar.cc/48?u=118836",
    balance: -7,
  },
  {
    id: 933372,
    name: "Sarah",
    image: "https://i.pravatar.cc/48?u=933372",
    balance: 20,
  },
  {
    id: 499476,
    name: "Anthony",
    image: "https://i.pravatar.cc/48?u=499476",
    balance: 0,
  },
];

export default function App() {
  const [friends, setFriends] = useState(initialFriends);
  const [showAddFriend, setShowAddFriend] = useState(false);
  const [selectedFriend, setSelectedFriend] = useState(null);

  function handleShowAddFriend() {
    setShowAddFriend((show) => !show);
  }

  function handleAddFriend(friend) {
    setFriends((friends) => [...friends, friend]);
    setShowAddFriend(false);
  }

  function handleSelection(friend) {
    setSelectedFriend((cur) => (cur?.id === friend.id ? null : friend));
    setShowAddFriend(false);
  }

  function handleSplitBill(value) {
    setFriends((friends) =>
      friends.map((friend) =>
        friend.id === selectedFriend.id
          ? { ...friend, balance: friend.balance + value }
          : friend
      )
    );

    setSelectedFriend(null);
  }

  return (
    <div className="app">
      <div className="sidebar">
        <FriendsList
          friends={friends}
          selectedFriend={selectedFriend}
          onSelected={handleSelection}
        />

        {showAddFriend && <FormAddFriend onAddFriend={handleAddFriend} />}

        <Button onClick={handleShowAddFriend}>
          {showAddFriend ? "é–‰ã˜ã‚‹" : "å‹é”ã‚’è¿½åŠ "}
        </Button>
      </div>

      {selectedFriend && (
        <FormSplitBill
          selectedFriend={selectedFriend}
          onSplitBill={handleSplitBill}
        />
      )}
    </div>
  );
}
```

---

## Step 4: index.js ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã‚’æ›´æ–°

**`src/index.js` ã‚’æ›´æ–°:**
```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './components/App';  // â† ãƒ‘ã‚¹ã‚’æ›´æ–°

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

---

## Step 5: å‹•ä½œç¢ºèª

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm start

# ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèª
# - å‹é”ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
# - å‹é”ã‚’è¿½åŠ ã§ãã‚‹ã‹
# - å‰²ã‚Šå‹˜ãƒ•ã‚©ãƒ¼ãƒ ãŒå‹•ä½œã™ã‚‹ã‹
```

---

## Step 6: ã‚³ãƒŸãƒƒãƒˆ

```bash
# å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add .

# ã‚³ãƒŸãƒƒãƒˆ
git commit -m "ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²"

# ãƒ—ãƒƒã‚·ãƒ¥
git push
```

---

## æœ€çµ‚çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”œâ”€â”€ Friend.jsx
â”‚   â”œâ”€â”€ FriendsList.jsx
â”‚   â”œâ”€â”€ FormAddFriend.jsx
â”‚   â””â”€â”€ FormSplitBill.jsx
â”œâ”€â”€ App.css
â”œâ”€â”€ index.css
â””â”€â”€ index.js
```

---

## ãƒ¡ãƒªãƒƒãƒˆ

1. **å¯èª­æ€§ã®å‘ä¸Š** - å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‹¬ç«‹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚Šã€ã‚³ãƒ¼ãƒ‰ãŒè¦‹ã‚„ã™ããªã‚‹
2. **ä¿å®ˆæ€§ã®å‘ä¸Š** - ç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ã‚’ç·¨é›†ã—ã‚„ã™ããªã‚‹
3. **å†åˆ©ç”¨æ€§** - Button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã©ã€ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ä½¿ã„ã‚„ã™ããªã‚‹
4. **ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„** - å€‹åˆ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã”ã¨ã«ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
5. **ãƒãƒ¼ãƒ é–‹ç™º** - è¤‡æ•°äººã§ç•°ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒæ™‚ã«ç·¨é›†ã§ãã‚‹

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã”ã¨ã«CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ï¼ˆä¾‹: `Button.module.css`ï¼‰
- `initialFriends` ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `data/initialData.js`ï¼‰ã«ç§»å‹•ã™ã‚‹
- PropTypesã‚„TypeScriptã§å‹ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹
